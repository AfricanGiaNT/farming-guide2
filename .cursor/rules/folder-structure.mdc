---
description: 
globs: 
alwaysApply: true
---
â¸»

ğŸ“ Folder Structure: Agricultural Advisor Bot for Lilongwe, Malawi

ğŸŒ¿ Root Directory

/scripts/                  # Core bot logic and modular components
  â”œâ”€ /handlers/            # Telegram command and message handlers (e.g., start_handler.py)
  â”œâ”€ /ai_agent/            # AI query logic (e.g., gpt_integration.py, prompt_formatter.py)
  â”œâ”€ /data_pipeline/       # FAISS embedding, PDF parsing, Google Search (e.g., embed_pdfs.py)
  â”œâ”€ /utils/               # Shared helper utilities (e.g., logger.py, language_tools.py)
  
/config/                   # Secrets and environment settings
  â”œâ”€ openai_key.env
  â”œâ”€ telegram_token.env
  â”œâ”€ google_keys.env

/rules/                    # Project-specific Cursor MDC rules and checklists

/docs/                     # Documentation (e.g., instructions.md, architecture.md)



â¸»

ğŸ§  Knowledge Base & Database Structure
	â€¢	User Queries: query, response, timestamp, source, chat_id
	â€¢	Knowledge Base: topic, question, answer, source_type, tags
	â€¢	PDF Chunks (FAISS): chunk_id, text, embedding_vector, source_doc
	â€¢	Search Logs: query, search_type, hits, used_for_response
	â€¢	Language Preferences: user_id, preferred_language, auto_translate

â¸»

ğŸ§ª Instructions for AI in Cursor
	â€¢	Use modular Python scripts for each responsibility (no monoliths).
	â€¢	Keep logic importable and reusable using utils/ and handlers/ conventions.
	â€¢	Never hardcode secrets â€” load from .env files in /config/.
	â€¢	Folder names must reflect function, not just the feature.
	â€¢	Response generators must include:
	â€¢	Bullet formatting,
	â€¢	Emoji support,
	â€¢	Chichewa fallback support (Phase 3 onward).
	â€¢	When adding new features (e.g., weather, vision):
	â€¢	Create a subfolder under /scripts/ (e.g., /scripts/weather/)
	â€¢	Include a README if it introduces new dependencies or services.

â¸»

ğŸ› ï¸ Development Principles
	â€¢	Environment Variables: All third-party keys must be stored in /config/ as .env.
	â€¢	Testing: Scripts in /scripts/ should include testable functions.
	â€¢	Naming Conventions:
	â€¢	Files: snake_case.py
	â€¢	Functions: snake_case()
	â€¢	Constants: ALL_CAPS
	â€¢	Docs: Every new module or major function must be documented in /docs/.

